{
  "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
  "name": "Cooklang Config",
  "scopeName": "source.cooklang-conf",
  "patterns": [
    { "include": "#comment" },
    { "include": "#section" },
    { "include": "#item" }
  ],
  "repository": {
    "comment": {
      "name": "comment.line.cooklang-conf",
      "match": "^\\s*#.*$"
    },
    "section": {
      "name": "entity.name.section.cooklang-conf",
      "match": "^\\s*(\\[)([^\\]]+)(\\])\\s*$",
      "captures": {
        "1": { "name": "punctuation.definition.section.begin.cooklang-conf" },
        "2": { "name": "entity.name.tag.cooklang-conf" },
        "3": { "name": "punctuation.definition.section.end.cooklang-conf" }
      }
    },
    "item": {
      "name": "string.unquoted.item.cooklang-conf",
      "match": "^\\s*([^\\[#\\s][^|\\n]*)(?:(\\|)(.*))?$",
      "captures": {
        "1": { "name": "variable.other.ingredient.cooklang-conf" },
        "2": { "name": "punctuation.separator.alias.cooklang-conf" },
        "3": { "name": "string.unquoted.alias.cooklang-conf" }
      }
    }
  }
}
